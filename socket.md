# 一、websocket 介绍

## 是 html5 新增的协议，基于 http 连接来建议的协议，客户端与服务器可以长连接，实时更新

# 二、socket 编程流程：

## 1.从浏览器发起一个请求，是一个标准的 HTTP 请求

## 2.服务器发给客户端的状态码是 101，返回文本数据或二进制数据

![socket请求](./assets/socket%E8%AF%B7%E6%B1%82.PNG)

```bash
npm i ws -S
```

## 建立 socket 连接，带上 token，后端验证

# 三、基于 http 的长连接的方式

## 1.轮询：写一段 js 的定时器，定时发送 缺点：服务器受不了这个压力，不够实时性

## 2.服务器推模式：
